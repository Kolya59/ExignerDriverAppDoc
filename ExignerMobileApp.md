# Описание мобильного приложения ExignerDriverApp

1. Что делаете?
   Exigner Driver App - приложение для взаимодействия водителей и iOT устройств (Galileosky), установленных в автомобилях
2. Конкурентная разведка. 2-3
   1. Wialon
3. Общая архитектура всей ИС
   Disclaimer: Терминал = iOT устройство компании Galileosky.
   1. Онлайн режим
   2. Оффлайн режим
4. Пользователи
   Disclaimer: все описанные ниже портерты - реальные пользователи, сценарии использования которых учитывались при проектировании системы
   1. Водитель фуры с рефрижератором. Человек поздних лет, пользующийся планшетом, встроенным в кабину, из очень бюджетной категории (7 дюймов, 1280x800, 1 gb RAM, Android 7.0 и выше, BLE 4.2, Wi-Fi, GSM). Умеет пользоваться устройством только согласно инструкции, написанной на бумажке, мотивирован получать и оперативно реагировать на информацию с терминала (температура в рефрижераторе, расход топлива), установленного в кабине и рефрижераторе. Обычно, ездит по дорогам с хорошим GSM покрытием.
   2. Водитель болотохода в тайге. С интернетом сталкивается, если ночью залазит на самую высокую сосну, смотрит в ночное небо и увидит спутник, либо, если в лагере будут проводить сеанс связи с внешним миром раз в 2 месяца. Боится утонуть в болоте вместе с машиной, поэтому имеет терминал с протоколом Iridium, который может отправлять сигнал SOS диспетчеру. Так же боится остаться без топлива, но плохо умеет в математику и не может спрогнозитьвать остаток хода по данным из топлива с 4 баков, поэтому получает эту информацию с терминала. Обладает мобильным устройством повышенной защищенности со слабыми характеристиками (как у водителя из пункта 1, но без GSM). Периодически топит/ломает болотоходы, но успевает доставать из них свой планшет и хочет использовать его с другими терминалами. Считает себя уверенным пользователем мобильных устройств.
   3. Хитрый водитель бразильской Газели. Молодой человек, бороздящий пустынные бразильские поля на небольшом грузовом автомобиле компании-работодателя. Так как его заработная плата расчитывается на основе его стиля езды, расчитываемого с помощью специального алгоритма на терминале, должен постоянно следить за графиком на экране небольшого смартфона (характеристики +- те же, как и у пункта 1), который отображает данные о его текущем стиле езды. Водитель не хочет терять много денег, но любит сливать бензин и знает только 2 положения педали: отпущена и в полу, поэтому постоянно пытается повредить терминал так, чтобы об этом не узнал работодатель. Связь в бразильских полях - явление редкое, но иногда случающееся, поэтому терминал, большую часть времени, подключен по BLE.
   4. Человек-интегратор. Занимается настройкой устройств Galileosky для конечных клиентов/организаций, обладает большим количеством различных мобильных устройств из среднего и топового сегмента, постоянно разъезжает по клиентам и настраивает терминалы в онлайн и оффлайн режиме. Хочет иметь максимальный доступ к устройству, вне зависимости от его физического местанахождения, поэтому взаимодействует с терминалами через различные протоколы связи (GSM, BLE, WI-FI).
   5. Диспетчер. Человек - "уверенный" пользователь PC. Имеет доступ ко всем устрйоствам компании и учетным записям водителей. Занимается предоставлением доступа к терминалам водителям. Не имеет непостредственного доступа к устрйоствам, все настраивает из офиса через web-interface.
5. Набор экранов. Функциональность. Карта переходов. (Минимум 4)
   1. Экран авторизации
   2. Список источников данных
   3. Список устройств
   4. Список дашбордов
6. Технологический стек.
   Angular, Cordova, Gomobile.
   Ответы на логичные вопросы:
   - Зачем нужна Cordova, если можно все написать на Java/Kotlin/Swift/Objective-C?
   - У нас было 4 фронтенедра, 2 бэкендера, 10 embeded developer и ни одного мобильного разработчика. Так же был/есть/будет готовый, объемный, схожий по функционалу код для web-части. А еще были сроки реализации рабочего прототипа - 2 недели, за это время написать с нуля подобный сервис без опыта практически невозможно.
   - Почему Apache Cordova, а не React Native/PhoneGap/Ionic/Xamarin?
   - React Native подразумевает использование кода, написанного с использованием React/желание использовать костыли для рендера кода с помощью React. В нашем случае кодовая база написана на Angular 7, что делает использование React Native бессмысленным. Xamarin отпадает по схожей причине, пусть TypeScript и похож издалека на C#, но это совершенно разные вещи, особенно в контексте кросс-платформенной веб-разработки. 
7. Список Activity, сервисов, фрагментов которые необходимо разработать. СУБД?
8. Набор задач для реализации приложения.
